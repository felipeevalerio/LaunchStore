{% extends 'layout.njk' %}

{% block content %}

<section class="container form">
    <form action="/products?_method=PUT" method="post"> 

        <div class="header">
            <h3>Editar Produto</h3>
        </div>

        <div class="fields">
            {% include 'products/fields.njk'%}
            <input type="hidden" name="id" value="{{product.id}}">
        </div>
        
        <button type="submit" class="button">Atualizar</button>

    </form>

    <form action="/products?_method=DELETE" method="post" id="form-delete">
        <input type="hidden" name="id" value="{{product.id}}">
        <button type="submit" class="button">Deletar</button>
    </form>
</section>


<script>
    const formDelete = document.querySelector('#form-delete')
    formDelete.addEventListener('submit',(e)=>{
        const confirmation = confirm("Deseja Deletar?")
        if(!confirmation){
            e.preventDefault()
        }
    })
</script>

{% endblock content%}